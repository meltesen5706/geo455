<!DOCTYPE html>
<html>
<head>
   <title>Final Project</title>
    
<!-- jQuery from CDN -->
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
   <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<!-- Leaflet from CDN -->
   <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin="" />
   <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
<!-- Esri Leaflet from CDN -->
   <script src="https://unpkg.com/esri-leaflet@3.0.7/dist/esri-leaflet.js"
    integrity="sha512-ciMHuVIB6ijbjTyEdmy1lfLtBwt0tEHZGhKVXDzW7v7hXOe+Fo3UA1zfydjCLZ0/vLacHkwSARXB5DmtNaoL/g=="
    crossorigin=""></script>
<!-- Esri Leaflet Vector from CDN -->
    <script src="https://unpkg.com/esri-leaflet-vector@3.1.2/dist/esri-leaflet-vector.js"
    integrity="sha512-SnA/TobYvMdLwGPv48bsO+9ROk7kqKu/tI9TelKQsDe+KZL0TUUWml56TZIMGcpHcVctpaU6Mz4bvboUQDuU3w==" crossorigin=""></script>
<!-- Leaflet Minimap from CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-minimap/3.6.1/Control.MiniMap.min.js"></script>
<!-- Search plugin -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet-search/dist/leaflet-search.min.css">
    <script src="https://unpkg.com/leaflet-search/dist/leaflet-search.min.js"></script>
<!-- fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Duru+Sans&family=Port+Lligat+Sans&display=swap" rel="stylesheet">
    <!-- Include jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    
<style>
    body, h1, p {
        margin: 0;
        padding: 0;
    }
    body {
        height: 100vh;
        margin: 0;
        overflow: hidden; /* Hide overflow to prevent scrollbars */
        position: relative; /* Set relative positioning for absolute positioning of children */
    }
    header {
            background-color: rgba(2, 47, 92, 0.7);
            color: white;
            font-family: "Port Lligat Sans", sans-serif;
            letter-spacing: 2px;
            padding: 10px;
            font-size: 120%;
            border-radius: 6px;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
            text-align:center;
            position: absolute;
            left: 10px;
            top: 10px;
            width: 55S0px;
            z-index: 2; /* Ensure header is above other elements */
    }

    #checkboxes {
        position: absolute;
        top: 254px;
        left: 10px;
        width: 200px;
        height: 145px;
        background-color: rgba(245, 245, 245, 0.92);
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);       
        font-family: "Roboto", sans-serif;
        font-size: 100%;
        border: 1px;
        border-radius: 6px;
        padding: 10px;
        z-index: 5000;
    }
    main {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 00px; /* Adjust to leave space for the footer */
            z-index: 0; /* Ensure main content is behind other elements */
    }
    #map {
        width: 100%;
        height: 100%;
        background-color: lightgray; /* Just for visualization */
    }
    
/* Slider track styles for WebKit browsers */
    .slider {
        position: absolute;
        bottom: 40px;
        left: .75%;
        right: .75%;
        height: 10px;
        z-index: 5000;
        background-image: url(symbols/orange_gradient.png);
        background-repeat: no-repeat;
        background-size: cover;
        background-color: rgba(0,76,153, 0.75);
        border-radius: 10px;
        border: 1px solid white;
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
        padding-left: 10px; 
        padding-right: 10px;
        -webkit-appearance: none; /* Remove default styles */
        appearance: none;
    }
/* Slider thumb styles */
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none; /* Remove default styles */
        appearance: none;
        width: 20px; /* Width of the slider thumb */
        height: 20px; /* Height of the slider thumb */
        background-color: #808080; /* Color of the slider thumb */
        border: 1px solid white;
        border-radius: 50%; /* Border radius to make it round */
        cursor: pointer; /* Cursor style on hover */
    }
    .slider::-moz-range-thumb {
        width: 20px; /* Width of the slider thumb */
        height: 20px; /* Height of the slider thumb */
        background-color: #808080; /* Color of the slider thumb */
        border: 1px solid white;
        border-radius: 50%; /* Border radius to make it round */
        cursor: pointer; /* Cursor style on hover */
    }
    /* Change color of slider thumb on hover */
    .slider::-webkit-slider-thumb:hover {
        background-color: #3b3b3b!important; /* Change color on hover */
    }
    .slider::-moz-range-thumb:hover {
        background-color: #3b3b3b!important; /* Change color on hover */
    }
    #sliderLabels {
        display: flex;
        font-family: "Port Lligat Sans", sans-serif;
        font-weight: bold;
        letter-spacing: 0.5px;
        justify-content: space-between;
        background-image: url(symbols/orange_gradient.png);
        background-repeat: no-repeat;
        background-size: cover;
        background-color: rgba(0,76,153, 0.85);
        border: 1px solid white;
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
        padding-left: 6px;
        padding-right: 6px;
        padding-top: 2px;
        padding-bottom: 2px;
        border-radius: 6px;
        position: absolute;
        bottom: 15px;
        left: 0.75%;
        right: 0.75%;
        z-index: 5500;
    }
    .sliderLabel {
        font-size: 14px; /* Adjust as needed */
        color: #282828;
        text-shadow: 0 0 6px white;
        width: auto;
        text-align: center;
        z-index: 5600;
    }
/* Footer style */
    footer {
        background-color: rgba(2, 47, 92, 0.7);
        border-radius: 8px;
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
        color: white;
        font-family: "Roboto", sans-serif;
        font-style: italic;
        font-size: 80%;
        letter-spacing: 1px;
        padding:4px;
        text-align: center;
        position: absolute;
        right: 10px;
        bottom: 65px;
        width: 220px;
        z-index: 2; 
    }
/* Basemap Layer Switch */
    .leaflet-control-layers {
        background-color: rgba(245, 245, 245, 0.92);
        font-family: "Roboto", sans-serif;
        font-size: 120%;
        border: 1px solid white;
        position: fixed;
        right: 40px;
        top: 10px;
        z-index: 1000;
    }
    /* Leaflet zoom controls */
    .leaflet-control-zoom {
        position: fixed;
        border: 1px solid white;
        right: 10px;
        top: 10px;
        opacity: 90%;
    }

    /* Custom CSS for the Leaflet Search Bar */
    .leaflet-control-search {
        border: 1px solid white;
        border-radius: 8px;
        background-color: rgba(255, 255, 255, 0.95);
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
        opacity: 0.95;
        z-index: 10000;
    }
    .leaflet-control-search input {
        color: #333;
        font-family: 'Roboto', sans-serif;
        padding: 6px;
        border: none;
        width: 183px; /* Adjust width as per your requirement */
        box-sizing: border-box; /* Helps include padding in width */
        z-index: 10000;
    }    
    /* Adjust the position of the search box if necessary */
    .leaflet-top .leaflet-control-search {
        top: 602px;
        left: 0px;
        z-index: 10000;
    }
    
    .leaflet-control-minimap {
        border: 1px solid white;
        border-radius: 4px;
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
        position: fixed;
        right: 2px;
        bottom: 124px;
    }
    .leaflet-control-scale {
        position: fixed;
        right: 11px;
        bottom: 108px;
        background-color: rgba(255, 255, 255, 0.6);
    }
    input[type='radio']:after {
        width: 11px;
        height: 11px;
        border-radius: 15px;
        top: -.7px;
        left: -.4px;
        position: relative;
        background-color: #d1d3d1;
        content: '';
        display: inline-block;
        visibility: visible;
        border: 2px solid white;
    }

    input[type='radio']:checked:after {
        background-color: #C06104;
    }
    
    input[type='checkbox'] {
    /* Hide the default checkbox */
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        /* Define custom size */
        width: 10px;
        height: 10px;
        /* Define custom checkbox style */
        border: 2px solid #808080; /* Default color */
        border-radius: 4px;
        background-color: white;
        cursor: pointer;
    }

    /* Change color of checkbox when checked */
    input[type='checkbox']:checked {
        background-color: #C06104; /* Change to desired color */
        border-color: #C06104; /* Change to desired color */
    }

    /* CSS styles for the custom zoom out control button */
    .custom-button {
        background-color: rgba(245, 245, 245, 0.9);
        background-image: url('symbols/globe.png');
        background-size: 85%; 
        background-repeat: no-repeat; 
        background-position: center;
        border: 1px solid grey;
        border-radius: 4px;
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); /* Add a shadow effect */
        width: 31px; 
        height: 31px; 
        position: absolute;
        top: 80px; 
        right: 0.85px;
        cursor: pointer; /* Change cursor to pointer on hover */
    }
    #sitelist {
        position: absolute;
        top: 448px;
        left: 10px;
        width: 200px;
        height: 140px;
        background-color: rgba(245, 245, 245, 0.92);
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);       
        font-family: "Roboto", sans-serif;
        z-index: 4000;
        border-radius: 6px;
        padding: 10px;
        overflow-y: auto; /* Enable vertical scroll if needed */
    }
    /* SITE LIST BUTTON */
        .toggle-button {
            position: absolute;
            top: 425px;
            left: 10px;
            width: 220px;
            padding: 4px 10px;
            font-family: "Roboto", sans-serif;
            font-size: 100%;
            background-color: grey;
            opacity: 92%;
            color: #fff;
            border: none;
            border-radius: 5px;
            box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);       
            cursor: pointer;
            z-index: 5000;
        }
        /* Style for the hidden list */
        .hidden {
            display: none;
        }
    
        .leaflet-popup-tip,
        .leaflet-popup-content-wrapper {
            background: white;
            color: black;
            min-width: 230px;
            }
    
    #about {
        position: absolute;
        top: 118px;
        left: 10px;
        width: 410px;
        height: 110px;
        background-color: rgba(220,163,108, 0.92);
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);       
        font-family: "Roboto", sans-serif;
        color: white;
        z-index: 4000;
        border-radius: 6px;
        padding: 10px;   
        font-size: 100%;
        border: 1px;
    }
    #sitelist li {
        cursor: pointer; /* Changes cursor to pointer when hovering over list items */
    }
    
    .splash-screen {
        position: fixed;
        top: 30%;
        left: 25%;
        width: 45%;
        height: 25%;
        background-color: rgba(0, 0, 0, 0.7);
        display: flex;
        padding: 20px;
        font-family: "Roboto", sans-serif;
        justify-content: center;
        align-items: center;
        border-radius: 6px;
        z-index: 9999;
        overflow-y: auto; /* Enable vertical scroll if needed */
        display: none; /* Initially hidden */
    }
    .splash-content {
        text-align: center;
        color: white;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100%; /* Ensure the content takes up the full height */
    }
    /* Styling for the close button */
    .close-button {
        position: absolute;
        top: 20px;
        right: 20px;
        cursor: pointer;
        color: white;
        font-size: 24px;
    }
    
</style>
</head>
<body>

    <header>
        <h1>Selected Archaeological Sites <br> Throughout Time in the UK</h1>
    </header>

    
      <div class="splash-screen" id="splash-screen">
        <span class="close-button" onclick="closeSplashScreen()">&times;</span>
        <div class="splash-content">
          <h1>Welcome to the Map!</h1><br>
          <p style="font-size: 110%">The history of humans in the UK extends to over 900,000 years ago, during the Paleolithic period. Archaeologists have worked (and still work) to uncover this past and share it with the public, and yet many are still not familiar with the history right below their feet. This web map aims to expose viewers to a selection of the myriad of archaeological sites that exist in the UK today so that people have the opportunity to explore the past, from the Paleolithic all the way up to Medieval times (ca. 1500 AD). </p>
        </div>
      </div>
    
    
    <button class="toggle-button" onclick="toggleList()">Show/Hide List of Sites</button>

    <div id="about">
        <p style="letter-spacing: 0.5px"><b>About the Map:</b></p>
        <p style="margin-top: 6px; font-size: 90%">This map highlights archaeological sites in the United Kingdom. Use the checkboxes below to filter the sites based on their type and the range slider at the bottom of the page to filter sites by their age. Click any site name from the list below to zoom to its location or type the site name into the search bar.</p>
    </div>
    
    <div id="sitelist">
        
            <ul style="margin-top: 5px; margin-bottom: 0px; margin-left: 0px; padding-left: 20px; font-size: 85%; font-family: 'Roboto', sans-serif">
                <li onclick="zoomToSite(51.428611, -1.854167)">Avebury</li>
                <li onclick="zoomToSite(55.608, -1.709)">Bamburgh Castle</li>
                <li onclick="zoomToSite(54.701466, -6.938701)">Beaghmore</li>
                <li onclick="zoomToSite(54.29, -1.59)">Bedale Hoard</li>
                <li onclick="zoomToSite(51.0023, 0.5435)">Bodiam Castle</li>
                <li onclick="zoomToSite(53.2077, -4.2361)">Bryn Celli Ddu</li>
                <li onclick="zoomToSite(53.1393, -4.2769)">Caernarfon Castle</li>
                <li onclick="zoomToSite(58.197541, -6.745145)">Callanish Stones</li>
                <li onclick="zoomToSite(51.2797, 1.0831)">Canterbury Cathedral</li>
                <li onclick="zoomToSite(50.10234, -5.63448)">Carn Euny</li>
                <li onclick="zoomToSite(51.891944, 0.898056)">Colchester Roman Town</li>
                <li onclick="zoomToSite(53.26347, -1.193535)">Creswell Crags</li>
                <li onclick="zoomToSite(51.136681, -1.537569)">Danebury Hill Fort</li>
                <li onclick="zoomToSite(50.869542, -0.689675)">Eartham Pit</li>
                <li onclick="zoomToSite(52.574, -0.19)">Flag Fen</li>
                <li onclick="zoomToSite(51.163611, -2.725833)">Glastonbury Lake Village</li>
                <li onclick="zoomToSite(51.2819, -2.7654)">Gough's Cave</li>
                <li onclick="zoomToSite(50.61331, -3.83738)">Grimspound</li>
                <li onclick="zoomToSite(52.825278, 1.535)">Happisburgh</li>
                <li onclick="zoomToSite(52.969925, -0.580756)">Honington Camp</li>
                <li onclick="zoomToSite(55.013, -2.331)">Housesteads Roman Fort</li>
                <li onclick="zoomToSite(55.454, -1.593)">Howick</li>
                <li onclick="zoomToSite(52.3425, 1.1875)">Hoxne Hoard</li>
                <li onclick="zoomToSite(50.46772, -3.502676)">Kents Cavern</li>
                <li onclick="zoomToSite(55.68, -1.8025)">Lindisfarne Priory</li>
                <li onclick="zoomToSite(53.25885, -4.540288)">Llyn Cerrig Bach</li>
                <li onclick="zoomToSite(51.719722, -3.568333)">Llyn Fawr</li>
                <li onclick="zoomToSite(55.3184, -1.5512)">Low Hauxley</li>
                <li onclick="zoomToSite(50.695, -2.47)">Maiden Castle</li>
                <li onclick="zoomToSite(52.033, -0.711)">Milton Keynes Hoard</li>
                <li onclick="zoomToSite(55.1161, -6.6642)">Mount Sandel</li>
                <li onclick="zoomToSite(52.555236, -0.177319)">Must Farm</li>
                <li onclick="zoomToSite(52.87273, -3.04886)">Old Oswestry Hillfort</li>
                <li onclick="zoomToSite(51.550144, -4.255517)">Paviland Cave</li>
                <li onclick="zoomToSite(51.999, -4.77)">Pentre Ifan</li>
                <li onclick="zoomToSite(51.55391, 0.70873)">Prittlewell Princely Burial</li>
                <li onclick="zoomToSite(52.841308, -1.55102)">Repton Abbey</li>
                <li onclick="zoomToSite(50.5211, -4.4557)">Rillaton Barrow</li>
                <li onclick="zoomToSite(59.001482, -3.229723)">Ring of Brodgar</li>
                <li onclick="zoomToSite(51.3809, -2.3595)">Roman Baths</li>
                <li onclick="zoomToSite(51.5125, -0.0906)">Roman Temple of Mithras</li>
                <li onclick="zoomToSite(51.064722, -1.7975)">Salisbury Cathedral</li>
                <li onclick="zoomToSite(51.4157, -1.8574)">Silbury Hill</li>
                <li onclick="zoomToSite(59.048714, -3.34175)">Skara Brae</li>
                <li onclick="zoomToSite(52.737, 0.934)">Spong Hill</li>
                <li onclick="zoomToSite(54.214167, -0.423333)">Star Carr </li>
                <li onclick="zoomToSite(51.178889, -1.826111)">Stonehenge</li>
                <li onclick="zoomToSite(52.089, 1.338)">Sutton Hoo</li>
                <li onclick="zoomToSite(51.444256, 0.296609)">Swanscombe</li>
                <li onclick="zoomToSite(54.9911, -2.3608)">Vindolanda</li>
                <li onclick="zoomToSite(53.961944, -1.081944)">York Minster</li>                           
            </ul>
    </div>
    
    <div id="ZoomOutControl" class="leaflet-control leaflet-bar"></div>
    
    <div id="checkboxes" style="background-color: rgba (255,255,255,.85)">

    <!-- Filter Checkboxes -->
        <p style="margin-bottom: 4px; letter-spacing: 0.5px"><b>Filter by Site Type:</b></p>
    <!-- Checkboxes for site types -->
        <label><input type="checkbox" class="site-type" value="burial-hoard" checked> <img src="symbols/burial.png" height="15px"> Burials/Hoards </label><br>
        <label><input type="checkbox" class="site-type" value="Cave-Early-Human-Occupation" checked> <img src="symbols/cave.png" height="15px"> Cave Shelter/Early <br> &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp Human Occupation </label><br>
        <label><input type="checkbox" class="site-type" value="Settlement" checked> <img src="symbols/settlement.png" height="15px"> Settlements </label><br>
        <label><input type="checkbox" class="site-type" value="ceremonial-religious" checked> <img src="symbols/ceremony.png" height="15px"> Ceremonial/Religious </label><br>
        <label><input type="checkbox" class="site-type" value="castle-fort" checked> <img src="symbols/fort.png" height="15px"> Castles/Forts </label><br>

    </div>

        <!-- Time Slider -->

        <input type="range" min="0" max="7" value="7" class="slider" id="timeSlider">

        <div id="sliderLabels">
            <span class="sliderLabel">Paleolithic</span>
            <span class="sliderLabel">Mesolithic</span>
            <span class="sliderLabel">Neolithic</span>
            <span class="sliderLabel">Bronze Age</span>
            <span class="sliderLabel">Iron Age</span>
            <span class="sliderLabel">Roman</span>
            <span class="sliderLabel">Anglo-Saxon</span>
            <span class="sliderLabel">Medieval</span>
        </div>

    <main>
        <div id="map"></div>
    </main>

    <footer>
        <p>Map developed by Madeline Meltesen | <a style="color: lightgray" href='../index.html'>Go back to main page</a></p>
    </footer>

    
<script>

    // Function to close the splash screen
function closeSplashScreen() {
    $("#splash-screen").fadeOut(600); // Fades out the splash screen
}

// Function to fade in the splash screen when the map is loaded
$(document).ready(function() {
    $("#splash-screen").fadeIn(1200); // Fades in the splash screen
});
    
    // toggle visibility of list
        function toggleList() {
            var list = document.getElementById("sitelist");
            if (list.classList.contains("hidden")) {
                list.classList.remove("hidden");
            } else {
                list.classList.add("hidden");
            }
        }
    
// CREATE MAP
    var mymap = L.map("map").setView([54.25, -3.5], 6);
    
// SEARCH BAR   
        var myIcon = L.icon({
            iconUrl: 'sitelocation.png',
            iconSize: [7, 7],
            iconAnchor: [0, 0],
            popupAnchor: [0, 10],
        });
        
        var siteLayer = L.layerGroup().addTo(mymap);

// Site data
        var siteData = [ 
                { name: "Paviland Cave", coordinates: [51.550144, -4.255517], age: "Paleolithic", type: "burial-hoard", image: "https://s0.geograph.org.uk/geophotos/02/97/73/2977336_4018a61a.jpg", link: "https://en.wikipedia.org/wiki/Red_Lady_of_Paviland" },
                { name: "Kents Cavern", coordinates: [50.46772, -3.502676], age: "Paleolithic", type: "Cave-Early-Human-Occupation", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Kents_Cavern_%287036%29.jpg/800px-Kents_Cavern_%287036%29.jpg", link: "https://en.wikipedia.org/wiki/Kents_Cavern" },
                { name: "Gough's Cave", coordinates: [51.2819, -2.7654], age: "Paleolithic", type: "Cave-Early-Human-Occupation", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Gough%27s_Cave%2C_Alladdin%27s_Cave.jpg/800px-Gough%27s_Cave%2C_Alladdin%27s_Cave.jpg", link: "https://en.wikipedia.org/wiki/Gough%27s_Cave" },
                { name: "Creswell Crags", coordinates: [53.26347, -1.193535], age: "Paleolithic", type: "Cave-Early-Human-Occupation", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Caves_Creswell_Crags_-_geograph.org.uk_-_90873.jpg/375px-Caves_Creswell_Crags_-_geograph.org.uk_-_90873.jpg", link: "https://en.wikipedia.org/wiki/Creswell_Crags" },
                { name: "Eartham Pit", coordinates: [50.869542, -0.689675], age: "Paleolithic", type: "Cave-Early-Human-Occupation", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/49/Eartham_Pit%2C_Boxgrove.JPG/800px-Eartham_Pit%2C_Boxgrove.JPG", link: "https://en.wikipedia.org/wiki/Eartham_Pit,_Boxgrove" },
                { name: "Swanscombe", coordinates: [51.444256, 0.296609], age: "Paleolithic", type: "Cave-Early-Human-Occupation", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Monument_at_Swanscome_Heritage_Park.jpg/330px-Monument_at_Swanscome_Heritage_Park.jpg", link: "https://en.wikipedia.org/wiki/Swanscombe_Heritage_Park" },
                { name: "Happisburgh", coordinates: [52.825278, 1.535], age: "Paleolithic", type: "Cave-Early-Human-Occupation", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f2/Photographs_of_Area_A_at_Happisburgh_%282%29.png/800px-Photographs_of_Area_A_at_Happisburgh_%282%29.png", link: "https://en.wikipedia.org/wiki/Happisburgh_footprints" },
                { name: "Star Carr", coordinates: [54.214167, -0.423333], age: "Mesolithic", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/View_of_Star_Carr_site_looking_NWW..jpg/330px-View_of_Star_Carr_site_looking_NWW..jpg", link: "https://en.wikipedia.org/wiki/Star_Carr" },
                { name: "Howick", coordinates: [55.454, -1.593], age: "Mesolithic", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Reconstructed_Mesolithic_round-house_-_geograph.org.uk_-_1091110.jpg/375px-Reconstructed_Mesolithic_round-house_-_geograph.org.uk_-_1091110.jpg", link: "https://en.wikipedia.org/wiki/Howick_house" },
                { name: "Low Hauxley", coordinates: [55.3184, -1.5512], age: "Mesolithic", type: "Settlement", image: "https://archaeologydataservice.ac.uk/researchframeworks/mesolithic/attach/Low_Hauxley/Low_Hauxley3.jpg", link: "https://archaeologydataservice.ac.uk/researchframeworks/mesolithic/wiki/Low_Hauxley" },
                { name: "Llyn Fawr", coordinates: [51.719722, -3.568333], age: "Bronze Age", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/LlynFawr.jpg/396px-LlynFawr.jpg", link: "https://en.wikipedia.org/wiki/Llyn_Fawr" },
                { name: "Mount Sandel", coordinates: [55.1161, -6.6642], age: "Mesolithic", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/UlsterMuseumPrehistoryMe_%28cropped%29.JPG/450px-UlsterMuseumPrehistoryMe_%28cropped%29.JPG", link: "https://en.wikipedia.org/wiki/Mount_Sandel_Mesolithic_site" },
                { name: "Skara Brae", coordinates: [59.048714, -3.34175], age: "Neolithic", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/2018_07_12_Schottland_%2894%29.jpg/330px-2018_07_12_Schottland_%2894%29.jpg", link: "https://en.wikipedia.org/wiki/Skara_Brae" },
                { name: "Pentre Ifan", coordinates: [51.999, -4.77], age: "Neolithic", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/DMPentreIfanSide.JPG/330px-DMPentreIfanSide.JPG", link: "https://en.wikipedia.org/wiki/Pentre_Ifan" },
                { name: "Bryn Celli Ddu", coordinates: [53.2077, -4.2361], age: "Neolithic", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d7/BrynCelliDdu3.jpg/330px-BrynCelliDdu3.jpg", link: "https://en.wikipedia.org/wiki/Bryn_Celli_Ddu" },
                { name: "Stonehenge", coordinates: [51.178889, -1.826111], age: "Neolithic", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Stonehenge2007_07_30.jpg/330px-Stonehenge2007_07_30.jpg", link: "https://en.wikipedia.org/wiki/Stonehenge" },
                { name: "Avebury", coordinates: [51.428611, -1.854167], age: "Neolithic", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/be/Avebury_%28South_Inner_Circle%29%2C_Wiltshire%2C_UK_-_Diliff.jpg/330px-Avebury_%28South_Inner_Circle%29%2C_Wiltshire%2C_UK_-_Diliff.jpg", link: "https://en.wikipedia.org/wiki/Avebury" },
                { name: "Silbury Hill", coordinates: [51.4157, -1.8574], age: "Neolithic", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/SilburyHill_gobeirne.jpg/330px-SilburyHill_gobeirne.jpg", link: "https://en.wikipedia.org/wiki/Silbury_Hill" },
                { name: "Callanish Stones", coordinates: [58.197541, -6.745145], age: "Neolithic", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Callanish_at_sunset_-_geograph.org.uk_-_820680.jpg/360px-Callanish_at_sunset_-_geograph.org.uk_-_820680.jpg", link: "https://en.wikipedia.org/wiki/Callanish_Stones" },
                { name: "Ring of Brodgar", coordinates: [59.001482, -3.229723], age: "Neolithic", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Ring_of_Brodgar_in_summer_2012_%283%29.JPG/330px-Ring_of_Brodgar_in_summer_2012_%283%29.JPG", link: "https://en.wikipedia.org/wiki/Ring_of_Brodgar" },
                { name: "Must Farm", coordinates: [52.555236, -0.177319], age: "Bronze Age", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Must_Farm_CL3_4817_%2826447110732%29_crop.jpg/330px-Must_Farm_CL3_4817_%2826447110732%29_crop.jpg", link: "https://en.wikipedia.org/wiki/Must_Farm" },
                { name: "Grimspound", coordinates: [50.61331, -3.83738], age: "Bronze Age", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Grimspound_Entrance.JPG/800px-Grimspound_Entrance.JPG", link: "https://en.wikipedia.org/wiki/Grimspound" },
                { name: "Flag Fen", coordinates: [52.574, -0.19], age: "Bronze Age", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fe/Flag_fen_roundhouse.jpg/375px-Flag_fen_roundhouse.jpg", link: "https://en.wikipedia.org/wiki/Flag_Fen" },
                { name: "Beaghmore", coordinates: [54.701466, -6.938701], age: "Bronze Age", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/A_stone_circle_at_Beaghmore..jpg/450px-A_stone_circle_at_Beaghmore..jpg", link: "https://en.wikipedia.org/wiki/Beaghmore" },
                { name: "Milton Keynes Hoard", coordinates: [52.033, -0.711], age: "Bronze Age", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Milton_Keynes_Hoard.jpg/800px-Milton_Keynes_Hoard.jpg", link: "https://en.wikipedia.org/wiki/Milton_Keynes_Hoard" },
                { name: "Rillaton Barrow", coordinates: [50.5211, -4.4557], age: "Bronze Age", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/Blocked_up_entrance_to_Rillaton_Barrow.JPG/330px-Blocked_up_entrance_to_Rillaton_Barrow.JPG", link: "https://en.wikipedia.org/wiki/Rillaton_Barrow" },
                { name: "Glastonbury Lake Village", coordinates: [51.163611, -2.725833], age: "Iron Age", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/c/c6/Excavation_of_Glastonbury_Lake_Village.jpg", link: "https://en.wikipedia.org/wiki/Glastonbury_Lake_Village" },
                { name: "Carn Euny", coordinates: [50.10234, -5.63448], age: "Iron Age", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/CarnEuny1.jpg/330px-CarnEuny1.jpg", link: "https://en.wikipedia.org/wiki/Carn_Euny" },
                { name: "Old Oswestry Hillfort", coordinates: [52.87273, -3.04886], age: "Iron Age", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Old_Oswestry_Hillfort_%28aerial%29.jpg/450px-Old_Oswestry_Hillfort_%28aerial%29.jpg", link: "https://en.wikipedia.org/wiki/Old_Oswestry" },
                { name: "Maiden Castle", coordinates: [50.695, -2.47], age: "Iron Age", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/97/Aerial_photograph_of_Maiden_Castle%2C_1935.jpg/330px-Aerial_photograph_of_Maiden_Castle%2C_1935.jpg", link: "https://en.wikipedia.org/wiki/Maiden_Castle,_Dorset" },
                { name: "Danebury Hill Fort", coordinates: [51.136681, -1.537569], age: "Iron Age", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Danebury_Fort_-_aerial_image%2C_Hampshire_Data_Portal.jpg/330px-Danebury_Fort_-_aerial_image%2C_Hampshire_Data_Portal.jpg", link: "https://en.wikipedia.org/wiki/Danebury" },
                { name: "Honington Camp", coordinates: [52.969925, -0.580756], age: "Iron Age", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Honington_Hill_Fort.jpg/1200px-Honington_Hill_Fort.jpg", link: "https://heritage-explorer.lincolnshire.gov.uk/Monument/MLI30366" },
                { name: "Llyn Cerrig Bach", coordinates: [53.25885, -4.540288], age: "Iron Age", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6c/LlynCerrigBach.jpg/330px-LlynCerrigBach.jpg", link: "https://en.wikipedia.org/wiki/Llyn_Cerrig_Bach" },
                { name: "Roman Temple of Mithras", coordinates: [51.5125, -0.0906], age: "Roman", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/London_Mithraeum.jpg/330px-London_Mithraeum.jpg", link: "https://en.wikipedia.org/wiki/London_Mithraeum" },
                { name: "Roman Baths", coordinates: [51.3809, -2.3595], age: "Roman", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/Ba%C3%B1os_Romanos%2C_Bath%2C_Inglaterra%2C_2014-08-12%2C_DD_39-41_HDR.JPG/330px-Ba%C3%B1os_Romanos%2C_Bath%2C_Inglaterra%2C_2014-08-12%2C_DD_39-41_HDR.JPG", link: "https://en.wikipedia.org/wiki/Roman_Baths_(Bath)" },
                { name: "Hoxne Hoard", coordinates: [52.3425, 1.1875], age: "Roman", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Hoxne_Hoard_1.jpg/450px-Hoxne_Hoard_1.jpg", link: "https://en.wikipedia.org/wiki/Hoxne_Hoard" },
                { name: "Colchester Roman Town", coordinates: [51.891944, 0.898056], age: "Roman", type: "Settlement", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/Balkerne_Gate%2C_a_1st-century_Roman_gateway_in_Camulodunum%2C_it_is_the_largest_surviving_gateway_in_Roman_Britain%2C_Colchester%2C_Great_Britain_%2823282941975%29.jpg/330px-Balkerne_Gate%2C_a_1st-century_Roman_gateway_in_Camulodunum%2C_it_is_the_largest_surviving_gateway_in_Roman_Britain%2C_Colchester%2C_Great_Britain_%2823282941975%29.jpg", link: "https://en.wikipedia.org/wiki/Camulodunum" },
                { name: "Vindolanda", coordinates: [54.9911, -2.3608], age: "Roman", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Vindolanda_bathhouse_-_2007-05-19.jpg/375px-Vindolanda_bathhouse_-_2007-05-19.jpg", link: "https://en.wikipedia.org/wiki/Vindolanda" },
                { name: "Housesteads Roman Fort", coordinates: [55.013, -2.331], age: "Roman", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Housesteads_Roman_Fort_aerial.jpg/372px-Housesteads_Roman_Fort_aerial.jpg", link: "https://en.wikipedia.org/wiki/Housesteads_Roman_Fort" },
                { name: "Bamburgh Castle", coordinates: [55.608, -1.709], age: "Anglo-Saxon", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/Bamburgh_Castle%2C_beautiful_day.jpg/450px-Bamburgh_Castle%2C_beautiful_day.jpg", link: "https://en.wikipedia.org/wiki/Bamburgh_Castle" },
                { name: "Lindisfarne Priory", coordinates: [55.68, -1.8025], age: "Anglo-Saxon", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Holy_Island_Sunrise_%28again%29_%2815064111624%29.jpg/360px-Holy_Island_Sunrise_%28again%29_%2815064111624%29.jpg", link: "https://en.wikipedia.org/wiki/Lindisfarne" },
                { name: "Repton Abbey", coordinates: [52.841308, -1.55102], age: "Anglo-Saxon", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Repton_Church_CROPPED.jpg/330px-Repton_Church_CROPPED.jpg", link: "https://en.wikipedia.org/wiki/Repton_Abbey" },
                { name: "Bedale Hoard", coordinates: [54.29, -1.59], age: "Anglo-Saxon", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/Bedale_Hoard_Group_YORYM_2014_149.jpg/330px-Bedale_Hoard_Group_YORYM_2014_149.jpg", link: "https://en.wikipedia.org/wiki/Bedale_Hoard" },
                { name: "Prittlewell Princely Burial", coordinates: [51.55391, 0.70873], age: "Anglo-Saxon", type: "burial-hoard", image: "https://www.prittlewellprincelyburial.org/_nuxt/img/c959e94.jpg", link: "https://www.prittlewellprincelyburial.org/" },
                { name: "Sutton Hoo", coordinates: [52.089, 1.338], age: "Anglo-Saxon", type: "burial-hoard", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ab/Sutton_Hoo_Burial_Mound_cleaned.jpg/330px-Sutton_Hoo_Burial_Mound_cleaned.jpg", link: "https://en.wikipedia.org/wiki/Sutton_Hoo" },
                { name: "Spong Hill", coordinates: [52.737, 0.934], age: "Anglo-Saxon", type: "burial-hoard", image: "https://s0.geograph.org.uk/geophotos/05/89/25/5892535_653d9fee_original.jpg", link: "https://en.wikipedia.org/wiki/Spong_Hill" },
                { name: "Canterbury Cathedral", coordinates: [51.2797, 1.0831], age: "Medieval", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/dd/Canterbury_Cathedral_-_Front.jpg/330px-Canterbury_Cathedral_-_Front.jpg", link: "https://en.wikipedia.org/wiki/Canterbury_Cathedral" },
                { name: "Salisbury Cathedral", coordinates: [51.064722, -1.7975], age: "Medieval", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7f/SalisburyCathedral-wyrdlight-EastExt.jpg/330px-SalisburyCathedral-wyrdlight-EastExt.jpg", link: "https://en.wikipedia.org/wiki/Salisbury_Cathedral" },
                { name: "York Minster", coordinates: [53.961944, -1.081944], age: "Medieval", type: "ceremonial-religious", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/94/Yorkminster_near_sunset_8495.jpg/800px-Yorkminster_near_sunset_8495.jpg", link: "https://en.wikipedia.org/wiki/York_Minster" },
                { name: "Bodiam Castle", coordinates: [51.0023, 0.5435], age: "Medieval", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/50/Bodiam-castle-10My8-1197.jpg/1024px-Bodiam-castle-10My8-1197.jpg", link: "https://en.wikipedia.org/wiki/Bodiam_Castle" },
                { name: "Caernarfon Castle", coordinates: [53.1393, -4.2769], age: "Medieval", type: "castle-fort", image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Caernarfon_Castle_%287345%29.jpg/1024px-Caernarfon_Castle_%287345%29.jpg", link: "https://en.wikipedia.org/wiki/Caernarfon_Castle" } 
            ];    
  
 // Click and zoom to site   
    function zoomToSite(lat, lng, name) {
        mymap.setView([lat, lng], 12);
            if (marker) {
            marker.openPopup();
        }
    }

// Site popups    
    siteData.forEach(function(site) {
        var popupContent = `
            <strong>${site.name}</strong><br>
            Age: ${site.age}<br>
            Type: ${site.type}<br>
            <img src="${site.image}" style="width:100%;"><br>
            <a href="${site.link}" target="_blank">More Info</a>
        `;
        var marker = L.marker(site.coordinates, { icon: myIcon, title: site.name }).bindPopup(popupContent);
        marker.addTo(siteLayer);
    });

// Search control setup
    var searchControl = new L.Control.Search({
        position: 'topleft',
        layer: siteLayer,
        propertyName: 'title',
        marker: false,
        collapsed: false,
        moveToLocation: function(latlng, title, map) {
            map.setView(latlng, 10); // Set zoom level
            var marker = siteLayer.getLayers().find(m => m.options.title === title);
            if (marker) {
                marker.openPopup();
            }
        }
    });

    mymap.addControl(searchControl);

    
   // Custom control class for zoom out button
        var ZoomOutControl = L.Control.extend({
            onAdd: function(map) {
                var button = L.DomUtil.create('button', 'custom-button');
                button.title = 'Zoom Out to Original Extent';
                button.onclick = function() {
                    map.setView([54.7, -3.5], 6); // Set the map view to the original extent
                };
                return button;
            }
        });
        new ZoomOutControl().addTo(mymap); 

// Baselayers
        var streets = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/streets-v11',
            tileSize: 512,
            zoomOffset: -1
        });

        var grayscale = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZ2NoYXVkaHVyaSIsImEiOiJjazBtcG5odG8wMDltM2JtcjdnYTgyanBnIn0.qwqjMomdrBMG36GQKXBlMw', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, ' +
                'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            id: 'mapbox/light-v9',
            tileSize: 512,
            zoomOffset: -1
        });

        var topo = L.tileLayer.wms('http://ows.mundialis.de/services/service?', {
            layers: 'SRTM30-Colored-Hillshade'
        });

        streets.addTo(mymap);

        var baseLayers = {
            'Streets': streets,
            'Grayscale': grayscale,
            "Hillshade": topo
        };

L.control.layers(baseLayers, null, { collapsed: true }).addTo(mymap);

// Scalebar 
L.control.scale({maxWidth: '150', metric: 'True'}).addTo(mymap);

// Locator map
    var miniMap = new L.Control.MiniMap(L.tileLayer('https://api.maptiler.com/maps/topo/{z}/{x}/{y}.png?key=tZnptaeI9RvKHsX18rbW'), {
        toggleDisplay: true,
    }).addTo(mymap);

// Time periods from earliest to latest

const timePeriods = [
    "Paleolithic",
    "Mesolithic",
    "Neolithic",
    "Bronze Age",
    "Iron Age",
    "Roman",
    "Anglo-Saxon",
    "Medieval"
];

// Create markers and associate them with layers
let markers = [];

    
// Function to zoom to marker location
function zoomToMarker(latlng) {
    mymap.setView(latlng, 10); // Adjust the zoom level as needed
}    
    
siteData.forEach(site => {
    const customIcon = L.icon({
        iconUrl: `site-symbols/${site.name.toLowerCase().replace(/\s+/g, '-')}.png`, // URL to the custom icon image
        iconSize: [22, 36], // Adjust the size of the custom icon as needed
        iconAnchor: [8, 32],
        popupAnchor: [2, -12],
        
    });    
    
    const marker = L.marker(site.coordinates, {icon: customIcon, title: site.name})
        .bindPopup(`
        <strong>${site.name}</strong><br>
        Age: ${site.age}<br>
        <img src="${site.image}" alt="${site.name} Image" style="max-width: 200px; max-height: 200px;"><br>
        <a href="${site.link}" target="_blank">More Info</a>
    `);
    
// Add event listener to marker to zoom to its location when clicked
    marker.on('click', function(e) {
        zoomToMarker(e.latlng);
    });
        
// Add marker to an array with additional info
    markers.push({
        marker: marker,
        age: site.age,
        type: site.type
    });
});

// Function to update visible markers based on the slider and checkboxes
    
    function updateMarkers() {
        const sliderValue = document.getElementById("timeSlider").value;
        const selectedPeriod = timePeriods[sliderValue];
        const selectedTypes = Array.from(document.querySelectorAll(".site-type:checked")).map(checkbox => checkbox.value);

        // Hide all markers first
        markers.forEach(obj => {
            if (mymap.hasLayer(obj.marker)) {
                mymap.removeLayer(obj.marker);
            }
        });

        // Show markers that meet the criteria
        markers.forEach(obj => {
            const periodIndex = timePeriods.indexOf(obj.age);
            if (periodIndex <= sliderValue && selectedTypes.includes(obj.type)) {
                obj.marker.addTo(mymap);
            }
        });

        // Update label to show selected period
        document.getElementById("currentPeriod").innerText = `Current Period: ${selectedPeriod}`;
    }

    // Add event listeners to checkboxes to trigger the updateMarkers function when they change

    document.querySelectorAll(".site-type").forEach(checkbox => {
        checkbox.addEventListener("change", updateMarkers);
    });

    // Initialize map and markers
    document.getElementById("timeSlider").addEventListener("input", updateMarkers);

    // Initially update markers based on the default slider value and selected checkboxes
    updateMarkers();

    // BASELAYER CONTROLS
    L.control.layers(baseLayers).addTo(mymap);

</script>

</body>
</html>